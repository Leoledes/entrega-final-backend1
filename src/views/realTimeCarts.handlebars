<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gesti√≥n de Carritos en Tiempo Real</title>
  
  <!-- Link a estilos generales -->
  <link rel="stylesheet" href="/css/realtimeCarts.css">
  <!-- Pod√©s agregar otros CSS globales si los ten√©s -->
</head>
<body>
  <h1>Gesti√≥n de Carritos en Tiempo Real</h1>

  <div class="forms-container">
      <!-- Crear Nuevo Carrito -->
      <div class="form-card">
          <h2>Crear Nuevo Carrito</h2>
          <button id="createCartBtn">Crear Carrito</button>
      </div>

      <!-- Agregar Producto a Carrito -->
      <div class="form-card">
          <h2>Agregar Producto a Carrito</h2>
          <form class="add-product-form">
              <label for="cartId">ID del Carrito:</label>
              <input type="text" name="cartId" required>

              <label for="productId">ID del Producto:</label>
              <input type="text" name="productId" required>

              <label for="quantity">Cantidad:</label>
              <input type="number" name="quantity" value="1" min="1">

              <button type="submit">Agregar Producto</button>
          </form>
      </div>
  </div>

  <h2>Lista de Carritos</h2>
  <div id="cartsList" class="products-container">
      {{#each carts}}
          <div class="product-card cart-card" data-id="{{this.id}}">
              <h3>Carrito ID: {{this.id}}</h3>

              {{#if this.products.length}}
                  <ul>
                      {{#each this.products}}
                          <li>{{this.name}} (ID: {{this.id}}) - Cantidad: {{this.quantity}}</li>
                      {{/each}}
                  </ul>
              {{else}}
                  <p>No hay productos en este carrito.</p>
              {{/if}}

              <div class="actions-container">
                  <button onclick="emptyCart('{{this.id}}')">Vaciar Carrito</button>
                  <button class="btn-delete-cart" data-cart-id="{{this.id}}">
                      Eliminar Carrito üóëÔ∏è
                  </button>
              </div>
          </div>
      {{/each}}
  </div>

  <!-- Sockets y JS -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/realtimecarts.js"></script>
</body>
</html>
